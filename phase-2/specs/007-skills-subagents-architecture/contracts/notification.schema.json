{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://todo-app.com/schemas/notification.json",
  "title": "Notification",
  "description": "A notification event for VERY IMPORTANT tasks due within 6 hours",
  "type": "object",
  "required": ["id", "taskId", "message", "timestamp", "read", "priority"],
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier (UUID v4)"
    },
    "taskId": {
      "type": "string",
      "format": "uuid",
      "description": "Foreign key reference to Task.id"
    },
    "message": {
      "type": "string",
      "maxLength": 500,
      "description": "Notification message (e.g., 'Task X due in 2 hours')"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Creation timestamp in ISO 8601 format (immutable)"
    },
    "read": {
      "type": "boolean",
      "default": false,
      "description": "Whether user has marked notification as read"
    },
    "priority": {
      "type": "string",
      "enum": ["VERY_IMPORTANT"],
      "description": "Priority inherited from task (always VERY_IMPORTANT)"
    }
  },
  "examples": [
    {
      "id": "c3d4e5f6-a7b8-9012-cdef-123456789012",
      "taskId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "message": "Task 'Urgent: Fix production bug' due in 2 hours",
      "timestamp": "2025-12-16T16:00:00.000Z",
      "read": false,
      "priority": "VERY_IMPORTANT"
    }
  ]
}
